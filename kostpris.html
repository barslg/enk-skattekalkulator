<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–π –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä —Å–µ–±–µ—Å—Ç–æ–∏–º–æ—Å—Ç–∏ —É—Å–ª—É–≥ - –ù–æ—Ä–≤–µ–≥–∏—è</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, sans-serif;
            background: linear-gradient(135deg, #0048a3 0%, #002d62 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
        }

        .header {
            text-align: center;
            color: white;
            margin-bottom: 30px;
        }

        h1 {
            font-size: 2.5rem;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.2);
            margin-bottom: 10px;
        }

        .subtitle {
            font-size: 1.1rem;
            opacity: 0.9;
        }

        .calculator-wrapper {
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            overflow: hidden;
        }

        .tabs {
            display: flex;
            background: #f8f9fa;
            border-bottom: 2px solid #e0e0e0;
            overflow-x: auto;
        }

        .tab {
            padding: 15px 25px;
            cursor: pointer;
            border: none;
            background: none;
            font-size: 1rem;
            font-weight: 500;
            color: #666;
            white-space: nowrap;
            transition: all 0.3s;
            position: relative;
        }

        .tab:hover {
            background: rgba(0,72,163,0.05);
        }

        .tab.active {
            color: #0048a3;
            background: white;
        }

        .tab.active::after {
            content: '';
            position: absolute;
            bottom: -2px;
            left: 0;
            right: 0;
            height: 2px;
            background: #0048a3;
        }

        .tab-content {
            display: none;
            padding: 30px;
            animation: fadeIn 0.3s;
        }

        .tab-content.active {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .input-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 20px;
            margin-bottom: 20px;
        }

        .input-group {
            background: #f8f9fa;
            padding: 15px;
            border-radius: 10px;
            border: 2px solid transparent;
            transition: all 0.3s;
        }

        .input-group:hover {
            border-color: #0048a3;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,72,163,0.1);
        }

        .input-group label {
            display: block;
            margin-bottom: 8px;
            color: #333;
            font-weight: 600;
            font-size: 0.9rem;
        }

        .input-group input, .input-group select {
            width: 100%;
            padding: 10px;
            border: 2px solid #e0e0e0;
            border-radius: 5px;
            font-size: 1rem;
            transition: border-color 0.3s;
            background: white;
        }

        .input-group input:focus, .input-group select:focus {
            outline: none;
            border-color: #0048a3;
        }

        .input-group .hint {
            font-size: 0.75rem;
            color: #6c757d;
            margin-top: 5px;
            font-style: italic;
        }

        .required {
            color: #dc3545;
        }

        .calculate-btn {
            width: 100%;
            padding: 18px;
            margin-top: 20px;
            background: linear-gradient(135deg, #0048a3 0%, #002d62 100%);
            color: white;
            border: none;
            border-radius: 10px;
            font-size: 1.2rem;
            font-weight: 600;
            cursor: pointer;
            transition: transform 0.2s, box-shadow 0.2s;
        }

        .calculate-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 30px rgba(0,72,163,0.4);
        }

        .results-section {
            background: #f8f9fa;
            padding: 30px;
            display: none;
        }

        .results-section.active {
            display: block;
        }

        .summary-cards {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .summary-card {
            background: white;
            padding: 20px;
            border-radius: 15px;
            text-align: center;
            box-shadow: 0 5px 20px rgba(0,0,0,0.1);
            border-left: 4px solid #0048a3;
        }

        .summary-card.primary {
            background: linear-gradient(135deg, #0048a3 0%, #002d62 100%);
            color: white;
            border: none;
            transform: scale(1.05);
        }

        .summary-card h3 {
            font-size: 0.9rem;
            margin-bottom: 10px;
            opacity: 0.8;
        }

        .summary-card .value {
            font-size: 2rem;
            font-weight: bold;
            margin-bottom: 5px;
        }

        .summary-card .unit {
            font-size: 0.85rem;
            opacity: 0.7;
        }

        .breakdown-section {
            background: white;
            padding: 25px;
            border-radius: 15px;
            margin-top: 20px;
        }

        .breakdown-title {
            font-size: 1.5rem;
            color: #333;
            margin-bottom: 25px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .category-breakdown {
            margin-bottom: 30px;
        }

        .category-title {
            font-size: 1.1rem;
            color: #0048a3;
            margin-bottom: 15px;
            padding: 10px;
            background: #f8f9fa;
            border-radius: 8px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .category-total {
            font-weight: bold;
            color: #333;
        }

        .breakdown-item {
            background: white;
            padding: 12px;
            border-radius: 8px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border: 1px solid #e0e0e0;
            margin-bottom: 8px;
            transition: all 0.2s;
        }

        .breakdown-item:hover {
            box-shadow: 0 3px 10px rgba(0,0,0,0.1);
            transform: translateX(5px);
        }

        .breakdown-item .label {
            font-weight: 500;
            color: #495057;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .breakdown-item .values {
            text-align: right;
        }

        .breakdown-item .amount {
            font-size: 1rem;
            font-weight: bold;
            color: #333;
        }

        .breakdown-item .percentage {
            font-size: 0.85rem;
            color: #6c757d;
        }

        .breakdown-item .detail {
            font-size: 0.75rem;
            color: #999;
        }

        .progress-bar {
            height: 6px;
            background: #e0e0e0;
            border-radius: 3px;
            margin-top: 8px;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #0048a3 0%, #002d62 100%);
            border-radius: 3px;
            transition: width 0.5s ease;
        }

        .warning-box {
            background: #fff3cd;
            border-left: 4px solid #ffc107;
            padding: 15px;
            border-radius: 8px;
            margin-top: 20px;
        }

        .warning-box .title {
            font-weight: bold;
            color: #856404;
            margin-bottom: 5px;
        }

        .warning-box .text {
            color: #856404;
            font-size: 0.9rem;
        }

        .info-box {
            background: #d1ecf1;
            border-left: 4px solid #0c5460;
            padding: 15px;
            border-radius: 8px;
            margin-top: 20px;
        }

        .info-box .title {
            font-weight: bold;
            color: #0c5460;
            margin-bottom: 5px;
        }

        .info-box .text {
            color: #0c5460;
            font-size: 0.9rem;
        }

        .metrics-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-top: 20px;
            padding: 20px;
            background: #f8f9fa;
            border-radius: 10px;
        }

        .metric-item {
            text-align: center;
        }

        .metric-label {
            font-size: 0.85rem;
            color: #6c757d;
            margin-bottom: 5px;
        }

        .metric-value {
            font-size: 1.3rem;
            font-weight: bold;
            color: #0048a3;
        }

        .total-row {
            background: linear-gradient(135deg, #0048a3 0%, #002d62 100%);
            color: white;
            padding: 15px;
            border-radius: 10px;
            margin-top: 15px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-size: 1.1rem;
            font-weight: bold;
        }

        @media (max-width: 768px) {
            .tabs {
                flex-wrap: wrap;
            }
            
            .tab {
                flex: 1 1 auto;
                text-align: center;
                font-size: 0.9rem;
                padding: 12px 15px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üá≥üá¥ –ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä —Å–µ–±–µ—Å—Ç–æ–∏–º–æ—Å—Ç–∏ —É—Å–ª—É–≥</h1>
            <div class="subtitle">–ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–π —Ä–∞—Å—á—ë—Ç –¥–ª—è –±–∏–∑–Ω–µ—Å–∞ –≤ –ù–æ—Ä–≤–µ–≥–∏–∏</div>
        </div>
        
        <div class="calculator-wrapper">
            <div class="tabs">
                <button class="tab active" onclick="switchTab('basic')">üìä –û—Å–Ω–æ–≤–Ω—ã–µ</button>
                <button class="tab" onclick="switchTab('salary')">üí∞ –ó–∞—Ä–ø–ª–∞—Ç–∞ –∏ –Ω–∞–ª–æ–≥–∏</button>
                <button class="tab" onclick="switchTab('insurance')">üõ°Ô∏è –°—Ç—Ä–∞—Ö–æ–≤–∞–Ω–∏–µ</button>
                <button class="tab" onclick="switchTab('equipment')">üíª –û–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–µ</button>
                <button class="tab" onclick="switchTab('services')">üìã –£—Å–ª—É–≥–∏</button>
                <button class="tab" onclick="switchTab('operations')">üöó –û–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ</button>
            </div>

            <!-- –û—Å–Ω–æ–≤–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã -->
            <div id="basic" class="tab-content active">
                <div class="input-grid">
                    <div class="input-group">
                        <label>–†–∞–±–æ—á–∏—Ö –¥–Ω–µ–π –≤ –º–µ—Å—è—Ü–µ <span class="required">*</span></label>
                        <input type="number" id="workDaysMonth" value="22" min="1" max="31">
                        <div class="hint">–°—Ä–µ–¥–Ω–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ä–∞–±–æ—á–∏—Ö –¥–Ω–µ–π</div>
                    </div>
                    
                    <div class="input-group">
                        <label>–†–∞–±–æ—á–∏—Ö —á–∞—Å–æ–≤ –≤ –¥–µ–Ω—å <span class="required">*</span></label>
                        <input type="number" id="workHoursDay" value="7.5" min="1" max="24" step="0.5">
                        <div class="hint">–°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π —Ä–∞–±–æ—á–∏–π –¥–µ–Ω—å –≤ –ù–æ—Ä–≤–µ–≥–∏–∏</div>
                    </div>
                    
                    <div class="input-group">
                        <label>–ó–∞–≥—Ä—É–∂–µ–Ω–Ω–æ—Å—Ç—å (%) <span class="required">*</span></label>
                        <input type="number" id="utilization" value="70" min="1" max="100">
                        <div class="hint">–ü—Ä–æ—Ü–µ–Ω—Ç –æ–ø–ª–∞—á–∏–≤–∞–µ–º–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏</div>
                    </div>
                    
                    <div class="input-group">
                        <label>–ù–µ–¥–µ–ª—å –æ—Ç–ø—É—Å–∫–∞ –≤ –≥–æ–¥ <span class="required">*</span></label>
                        <input type="number" id="vacationWeeks" value="5" min="0" max="52">
                        <div class="hint">–ú–∏–Ω–∏–º—É–º 5 –Ω–µ–¥–µ–ª—å –≤ –ù–æ—Ä–≤–µ–≥–∏–∏</div>
                    </div>
                    
                    <div class="input-group">
                        <label>–ë–æ–ª—å–Ω–∏—á–Ω—ã—Ö –¥–Ω–µ–π –≤ –≥–æ–¥</label>
                        <input type="number" id="sickDays" value="10" min="0" max="365">
                        <div class="hint">–°—Ä–µ–¥–Ω–µ–µ –ø–æ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–µ</div>
                    </div>
                    
                    <div class="input-group">
                        <label>–ì–æ—Å. –ø—Ä–∞–∑–¥–Ω–∏–∫–æ–≤ –≤ –≥–æ–¥—É</label>
                        <input type="number" id="holidays" value="12" min="0" max="365">
                        <div class="hint">–ö—Ä–∞—Å–Ω—ã–µ –¥–Ω–∏ –∫–∞–ª–µ–Ω–¥–∞—Ä—è</div>
                    </div>
                    
                    <div class="input-group">
                        <label>–ê—Ä–µ–Ω–¥–∞ –æ—Ñ–∏—Å–∞ –≤ –º–µ—Å—è—Ü (NOK)</label>
                        <input type="number" id="rentMonth" value="15000" min="0">
                        <div class="hint">–û—Ñ–∏—Å, –∫–æ–≤–æ—Ä–∫–∏–Ω–≥ –∏–ª–∏ —á–∞—Å—Ç—å –¥–æ–º–∞</div>
                    </div>
                    
                    <div class="input-group">
                        <label>–ê–¥–º–∏–Ω —Ä–∞—Å—Ö–æ–¥—ã –≤ –º–µ—Å—è—Ü (NOK)</label>
                        <input type="number" id="adminMonth" value="3000" min="0">
                        <div class="hint">–¢–µ–ª–µ—Ñ–æ–Ω, –∏–Ω—Ç–µ—Ä–Ω–µ—Ç, –ø–æ–¥–ø–∏—Å–∫–∏</div>
                    </div>
                    
                    <div class="input-group">
                        <label>–ú–∞—Ä–∫–µ—Ç–∏–Ω–≥ –≤ –≥–æ–¥ (NOK)</label>
                        <input type="number" id="marketingYear" value="30000" min="0">
                        <div class="hint">–†–µ–∫–ª–∞–º–∞, —Å–∞–π—Ç, –ø—Ä–æ–¥–≤–∏–∂–µ–Ω–∏–µ</div>
                    </div>
                    
                    <div class="input-group">
                        <label>–ö—É—Ä—Å—ã –∏ –æ–±—É—á–µ–Ω–∏–µ –≤ –≥–æ–¥ (NOK)</label>
                        <input type="number" id="coursesYear" value="25000" min="0">
                        <div class="hint">–†–∞–∑–≤–∏—Ç–∏–µ –∫–æ–º–ø–µ—Ç–µ–Ω—Ü–∏–π</div>
                    </div>
                    
                    <div class="input-group">
                        <label>–í–Ω–µ–ø–ª–∞–Ω–æ–≤—ã–µ —Ä–∞—Å—Ö–æ–¥—ã (%)</label>
                        <input type="number" id="contingency" value="10" min="0" max="100">
                        <div class="hint">–ë—É—Ñ–µ—Ä –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏</div>
                    </div>
                    
                    <div class="input-group">
                        <label>–ì–æ–¥–æ–≤–∞—è –∏–Ω—Ñ–ª—è—Ü–∏—è (%) <span class="required">*</span></label>
                        <input type="number" id="inflation" value="5" min="0" max="100" step="0.5">
                        <div class="hint">–¢–µ–∫—É—â–∞—è –∏–Ω—Ñ–ª—è—Ü–∏—è –≤ –ù–æ—Ä–≤–µ–≥–∏–∏ ~4-6%</div>
                    </div>
                </div>
            </div>

            <!-- –ó–∞—Ä–ø–ª–∞—Ç–∞ –∏ –Ω–∞–ª–æ–≥–∏ -->
            <div id="salary" class="tab-content">
                <div class="input-grid">
                    <div class="input-group">
                        <label>–ñ–µ–ª–∞–µ–º–∞—è –∑–∞—Ä–ø–ª–∞—Ç–∞ –±—Ä—É—Ç—Ç–æ –≤ –≥–æ–¥ (NOK) <span class="required">*</span></label>
                        <input type="number" id="salaryYear" value="600000" min="0">
                        <div class="hint">–í–∞—à–∞ –≥–æ–¥–æ–≤–∞—è –∑–∞—Ä–ø–ª–∞—Ç–∞ –¥–æ –Ω–∞–ª–æ–≥–æ–≤</div>
                    </div>
                    
                    <div class="input-group">
                        <label>Arbeidsgiveravgift (%)</label>
                        <input type="number" id="employerTax" value="14.1" min="0" max="100" step="0.1">
                        <div class="hint">–ù–∞–ª–æ–≥ —Ä–∞–±–æ—Ç–æ–¥–∞—Ç–µ–ª—è (—Å—Ç–∞–Ω–¥–∞—Ä—Ç 14.1%)</div>
                    </div>
                    
                    <div class="input-group">
                        <label>Feriepenger (%)</label>
                        <input type="number" id="vacationMoney" value="12" min="0" max="100" step="0.1">
                        <div class="hint">–û—Ç–ø—É—Å–∫–Ω—ã–µ (—Å—Ç–∞–Ω–¥–∞—Ä—Ç 12%)</div>
                    </div>
                    
                    <div class="input-group">
                        <label>OTP - –ø–µ–Ω—Å–∏—è (%)</label>
                        <input type="number" id="pension" value="5" min="2" max="7" step="0.1">
                        <div class="hint">–û–±—è–∑–∞—Ç–µ–ª—å–Ω–∞—è –ø–µ–Ω—Å–∏—è (–º–∏–Ω 2%)</div>
                    </div>
                    
                    <div class="input-group">
                        <label>–†–æ–∂–¥–µ—Å—Ç–≤–µ–Ω—Å–∫–∏–π –±–æ–Ω—É—Å (NOK)</label>
                        <input type="number" id="christmasBonus" value="10000" min="0">
                        <div class="hint">–¢—Ä–∞–¥–∏—Ü–∏–æ–Ω–Ω—ã–π –±–æ–Ω—É—Å –≤ –ù–æ—Ä–≤–µ–≥–∏–∏</div>
                    </div>
                </div>
            </div>

            <!-- –°—Ç—Ä–∞—Ö–æ–≤–∞–Ω–∏–µ -->
            <div id="insurance" class="tab-content">
                <div class="input-grid">
                    <div class="input-group">
                        <label>Yrkesskadeforsikring –≤ –≥–æ–¥ (NOK)</label>
                        <input type="number" id="workInjuryInsurance" value="8000" min="0">
                        <div class="hint">–û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ —Å—Ç—Ä–∞—Ö–æ–≤–∞–Ω–∏–µ –æ—Ç —Ç—Ä–∞–≤–º</div>
                    </div>
                    
                    <div class="input-group">
                        <label>Ansvarsforsikring –≤ –≥–æ–¥ (NOK)</label>
                        <input type="number" id="liabilityInsurance" value="15000" min="0">
                        <div class="hint">–ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–∞—è –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å</div>
                    </div>
                    
                    <div class="input-group">
                        <label>Driftsforsikring –≤ –≥–æ–¥ (NOK)</label>
                        <input type="number" id="businessInsurance" value="12000" min="0">
                        <div class="hint">–°—Ç—Ä–∞—Ö–æ–≤–∞–Ω–∏–µ –±–∏–∑–Ω–µ—Å–∞</div>
                    </div>
                    
                    <div class="input-group">
                        <label>Helseforsikring –≤ –≥–æ–¥ (NOK)</label>
                        <input type="number" id="healthInsurance" value="18000" min="0">
                        <div class="hint">–ß–∞—Å—Ç–Ω–æ–µ –º–µ–¥–∏—Ü–∏–Ω—Å–∫–æ–µ —Å—Ç—Ä–∞—Ö–æ–≤–∞–Ω–∏–µ</div>
                    </div>
                </div>
            </div>

            <!-- –û–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–µ –∏ –ü–û -->
            <div id="equipment" class="tab-content">
                <div class="input-grid">
                    <div class="input-group">
                        <label>–ê–º–æ—Ä—Ç–∏–∑–∞—Ü–∏—è —Ç–µ—Ö–Ω–∏–∫–∏ –≤ –≥–æ–¥ (NOK)</label>
                        <input type="number" id="equipmentDepreciation" value="20000" min="0">
                        <div class="hint">–ù–æ—É—Ç–±—É–∫, —Ç–µ–ª–µ—Ñ–æ–Ω, –º–æ–Ω–∏—Ç–æ—Ä—ã (3-5 –ª–µ—Ç)</div>
                    </div>
                    
                    <div class="input-group">
                        <label>–õ–∏—Ü–µ–Ω–∑–∏–∏ –ü–û –≤ –≥–æ–¥ (NOK)</label>
                        <input type="number" id="softwareLicenses" value="15000" min="0">
                        <div class="hint">Office, Adobe, —Å–ø–µ—Ü. –ø—Ä–æ–≥—Ä–∞–º–º—ã</div>
                    </div>
                    
                    <div class="input-group">
                        <label>–û–±–ª–∞—á–Ω—ã–µ —Å–µ—Ä–≤–∏—Å—ã –≤ –≥–æ–¥ (NOK)</label>
                        <input type="number" id="cloudServices" value="6000" min="0">
                        <div class="hint">Dropbox, Google, Azure –∏ —Ç.–¥.</div>
                    </div>
                    
                    <div class="input-group">
                        <label>–î–æ–º–µ–Ω –∏ —Ö–æ—Å—Ç–∏–Ω–≥ –≤ –≥–æ–¥ (NOK)</label>
                        <input type="number" id="hosting" value="3000" min="0">
                        <div class="hint">–°–∞–π—Ç, –ø–æ—á—Ç–∞, —Å–µ—Ä–≤–µ—Ä–∞</div>
                    </div>
                </div>
            </div>

            <!-- –ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–µ —É—Å–ª—É–≥–∏ -->
            <div id="services" class="tab-content">
                <div class="input-grid">
                    <div class="input-group">
                        <label>Regnskapsf√∏rer –≤ –≥–æ–¥ (NOK)</label>
                        <input type="number" id="accountant" value="24000" min="0">
                        <div class="hint">–ë—É—Ö–≥–∞–ª—Ç–µ—Ä (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –≤ –ù–æ—Ä–≤–µ–≥–∏–∏)</div>
                    </div>
                    
                    <div class="input-group">
                        <label>Revisor –≤ –≥–æ–¥ (NOK)</label>
                        <input type="number" id="auditor" value="15000" min="0">
                        <div class="hint">–ê—É–¥–∏—Ç–æ—Ä –¥–ª—è AS</div>
                    </div>
                    
                    <div class="input-group">
                        <label>–Æ—Ä–∏–¥–∏—á–µ—Å–∫–∏–µ —É—Å–ª—É–≥–∏ –≤ –≥–æ–¥ (NOK)</label>
                        <input type="number" id="legal" value="10000" min="0">
                        <div class="hint">–ö–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏–∏, –¥–æ–≥–æ–≤–æ—Ä—ã</div>
                    </div>
                    
                    <div class="input-group">
                        <label>–ë–∞–Ω–∫–æ–≤—Å–∫–∏–µ –∫–æ–º–∏—Å—Å–∏–∏ –≤ –≥–æ–¥ (NOK)</label>
                        <input type="number" id="bankFees" value="5000" min="0">
                        <div class="hint">–û–±—Å–ª—É–∂–∏–≤–∞–Ω–∏–µ —Å—á–µ—Ç–æ–≤, –ø–µ—Ä–µ–≤–æ–¥—ã</div>
                    </div>
                </div>
            </div>

            <!-- –û–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ä–∞—Å—Ö–æ–¥—ã -->
            <div id="operations" class="tab-content">
                <div class="input-grid">
                    <div class="input-group">
                        <label>–¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç –≤ –º–µ—Å—è—Ü (NOK)</label>
                        <input type="number" id="transportMonth" value="3000" min="0">
                        <div class="hint">–ë–µ–Ω–∑–∏–Ω, –ø—Ä–æ–µ–∑–¥, –ø–∞—Ä–∫–æ–≤–∫–∞</div>
                    </div>
                    
                    <div class="input-group">
                        <label>–ü—Ä–µ–¥—Å—Ç–∞–≤–∏—Ç–µ–ª—å—Å–∫–∏–µ –≤ –º–µ—Å—è—Ü (NOK)</label>
                        <input type="number" id="representationMonth" value="2000" min="0">
                        <div class="hint">–û–±–µ–¥—ã —Å –∫–ª–∏–µ–Ω—Ç–∞–º–∏, –∫–æ—Ñ–µ</div>
                    </div>
                    
                    <div class="input-group">
                        <label>–ß–ª–µ–Ω—Å–∫–∏–µ –≤–∑–Ω–æ—Å—ã –≤ –≥–æ–¥ (NOK)</label>
                        <input type="number" id="membershipYear" value="12000" min="0">
                        <div class="hint">NHO, –ø—Ä–æ—Ñ—Å–æ—é–∑—ã, –∞—Å—Å–æ—Ü–∏–∞—Ü–∏–∏</div>
                    </div>
                    
                    <div class="input-group">
                        <label>–†–µ–∑–µ—Ä–≤ –Ω–∞ bad debt (%)</label>
                        <input type="number" id="badDebt" value="2" min="0" max="100" step="0.5">
                        <div class="hint">–ù–µ–æ–ø–ª–∞—á–µ–Ω–Ω—ã–µ —Å—á–µ—Ç–∞</div>
                    </div>
                    
                    <div class="input-group">
                        <label>–°–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ –≤ –≥–æ–¥ (NOK)</label>
                        <input type="number" id="certifications" value="15000" min="0">
                        <div class="hint">–ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–µ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã</div>
                    </div>
                    
                    <div class="input-group">
                        <label>Networking events –≤ –≥–æ–¥ (NOK)</label>
                        <input type="number" id="networking" value="10000" min="0">
                        <div class="hint">–ö–æ–Ω—Ñ–µ—Ä–µ–Ω—Ü–∏–∏, –≤—Å—Ç—Ä–µ—á–∏</div>
                    </div>
                </div>
            </div>

            <button class="calculate-btn" onclick="calculate()">
                üßÆ –†–∞—Å—Å—á–∏—Ç–∞—Ç—å –ø–æ–ª–Ω—É—é —Å–µ–±–µ—Å—Ç–æ–∏–º–æ—Å—Ç—å
            </button>
            
            <!-- –†–µ–∑—É–ª—å—Ç–∞—Ç—ã -->
            <div class="results-section" id="results">
                <div class="summary-cards">
                    <div class="summary-card">
                        <h3>üíº –°–µ–±–µ—Å—Ç–æ–∏–º–æ—Å—Ç—å —á–∞—Å–∞</h3>
                        <div class="value" id="hourCost">0</div>
                        <div class="unit">NOK/—á–∞—Å</div>
                        <div class="unit" style="color: #dc3545; font-size: 0.75rem; margin-top: 5px;" id="inflationNote"></div>
                    </div>
                    
                    <div class="summary-card primary">
                        <h3>‚≠ê –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º–∞—è —Å—Ç–∞–≤–∫–∞</h3>
                        <div class="value" id="recommendedRate">0</div>
                        <div class="unit">NOK/—á–∞—Å (—Å –º–∞—Ä–∂–æ–π 30%)</div>
                    </div>
                    
                    <div class="summary-card">
                        <h3>üìÖ –°–µ–±–µ—Å—Ç–æ–∏–º–æ—Å—Ç—å –º–µ—Å—è—Ü–∞</h3>
                        <div class="value" id="monthCost">0</div>
                        <div class="unit">NOK/–º–µ—Å—è—Ü</div>
                    </div>
                    
                    <div class="summary-card">
                        <h3>üìä –û–±—â–∏–µ —Ä–∞—Å—Ö–æ–¥—ã –≤ –≥–æ–¥</h3>
                        <div class="value" id="yearCost">0</div>
                        <div class="unit">NOK/–≥–æ–¥</div>
                    </div>
                </div>

                <div class="metrics-grid">
                    <div class="metric-item">
                        <div class="metric-label">–†–∞–±–æ—á–∏—Ö –¥–Ω–µ–π –≤ –≥–æ–¥—É</div>
                        <div class="metric-value" id="workDaysYear">0</div>
                    </div>
                    <div class="metric-item">
                        <div class="metric-label">–†–∞–±–æ—á–∏—Ö —á–∞—Å–æ–≤ –≤ –≥–æ–¥—É</div>
                        <div class="metric-value" id="workHoursYear">0</div>
                    </div>
                    <div class="metric-item">
                        <div class="metric-label">–≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω—ã—Ö —á–∞—Å–æ–≤</div>
                        <div class="metric-value" id="effectiveHours">0</div>
                    </div>
                    <div class="metric-item">
                        <div class="metric-label">–ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –¥–æ—Ö–æ–¥</div>
                        <div class="metric-value" id="minIncome">0</div>
                    </div>
                    <div class="metric-item">
                        <div class="metric-label">–°—Ç–∞–≤–∫–∞ —á–µ—Ä–µ–∑ –≥–æ–¥ (+–∏–Ω—Ñ–ª—è—Ü–∏—è)</div>
                        <div class="metric-value" id="nextYearRate" style="color: #dc3545;">0</div>
                    </div>
                    <div class="metric-item">
                        <div class="metric-label">–ü—Ä–∏—Ä–æ—Å—Ç –∏–∑-–∑–∞ –∏–Ω—Ñ–ª—è—Ü–∏–∏</div>
                        <div class="metric-value" id="inflationGrowth" style="color: #dc3545;">0</div>
                    </div>
                </div>
                
                <div class="breakdown-section">
                    <h2 class="breakdown-title">üìà –î–µ—Ç–∞–ª—å–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ä–∞—Å—Ö–æ–¥–æ–≤</h2>
                    <div id="breakdownContainer"></div>
                    <div class="total-row">
                        <span>–ò–¢–û–ì–û –†–ê–°–•–û–î–û–í</span>
                        <span id="totalExpenses">0 NOK</span>
                    </div>
                </div>

                <div class="warning-box">
                    <div class="title">‚ö†Ô∏è –í–∞–∂–Ω–æ –ø–æ–º–Ω–∏—Ç—å –ø—Ä–æ MVA!</div>
                    <div class="text">
                        –ü—Ä–∏ –≤—ã—Å—Ç–∞–≤–ª–µ–Ω–∏–∏ —Å—á–µ—Ç–æ–≤ –∫–ª–∏–µ–Ω—Ç–∞–º –¥–æ–±–∞–≤–ª—è–π—Ç–µ 25% MVA —Å–≤–µ—Ä—Ö—É. 
                        –í–∞—à–∞ —Å—Ç–∞–≤–∫–∞ –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –±–µ–∑ —É—á—ë—Ç–∞ MVA, –Ω–∞–ª–æ–≥ –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è –æ—Ç–¥–µ–ª—å–Ω–æ–π —Å—Ç—Ä–æ–∫–æ–π.
                    </div>
                </div>

                <div class="info-box">
                    <div class="title">üí° –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è –ø–æ —Ü–µ–Ω–æ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—é</div>
                    <div class="text">
                        –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –º–∞—Ä–∂–∞ –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å 30% –¥–ª—è —É—Å—Ç–æ–π—á–∏–≤–æ–≥–æ –±–∏–∑–Ω–µ—Å–∞. 
                        –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º–∞—è –º–∞—Ä–∂–∞ 40-50% –¥–ª—è —Ä–æ—Å—Ç–∞ –∏ —Ä–∞–∑–≤–∏—Ç–∏—è. 
                        –ü—Ä–µ–º–∏—É–º —É—Å–ª—É–≥–∏ –º–æ–≥—É—Ç –∏–º–µ—Ç—å –º–∞—Ä–∂—É 70-100%.
                    </div>
                </div>
                
                <div class="warning-box" style="background: #f8d7da; border-color: #dc3545;">
                    <div class="title" style="color: #721c24;">üìà –ò–Ω—Ñ–ª—è—Ü–∏—è —É—á—Ç–µ–Ω–∞ –≤ —Ä–∞—Å—á—ë—Ç–µ!</div>
                    <div class="text" style="color: #721c24;">
                        –í —Ä–∞—Å—á—ë—Ç –¥–æ–±–∞–≤–ª–µ–Ω–∞ –∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∫–∞ –Ω–∞ –∏–Ω—Ñ–ª—è—Ü–∏—é. <strong>–í–ê–ñ–ù–û:</strong> –ï–∂–µ–≥–æ–¥–Ω–æ –∏–Ω–¥–µ–∫—Å–∏—Ä—É–π—Ç–µ —Å–≤–æ–∏ —Å—Ç–∞–≤–∫–∏ –º–∏–Ω–∏–º—É–º –Ω–∞ —É—Ä–æ–≤–µ–Ω—å –∏–Ω—Ñ–ª—è—Ü–∏–∏! 
                        –ü—Ä–∏ –¥–æ–ª–≥–æ—Å—Ä–æ—á–Ω—ã—Ö –∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞—Ö –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –≤–∫–ª—é—á–∞–π—Ç–µ –ø—É–Ω–∫—Ç –æ–± –µ–∂–µ–≥–æ–¥–Ω–æ–π –∏–Ω–¥–µ–∫—Å–∞—Ü–∏–∏ —Ü–µ–Ω.
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        function formatNumber(num) {
            return Math.round(num).toLocaleString('no-NO');
        }

        function switchTab(tabName) {
            // –°–∫—Ä—ã–≤–∞–µ–º –≤—Å–µ —Ç–∞–±—ã
            document.querySelectorAll('.tab').forEach(tab => {
                tab.classList.remove('active');
            });
            document.querySelectorAll('.tab-content').forEach(content => {
                content.classList.remove('active');
            });
            
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –≤—ã–±—Ä–∞–Ω–Ω—ã–π —Ç–∞–±
            event.target.classList.add('active');
            document.getElementById(tabName).classList.add('active');
        }

        function calculate() {
            // –û—Å–Ω–æ–≤–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã
            const workDaysMonth = parseFloat(document.getElementById('workDaysMonth').value) || 22;
            const workHoursDay = parseFloat(document.getElementById('workHoursDay').value) || 7.5;
            const utilization = parseFloat(document.getElementById('utilization').value) || 70;
            const vacationWeeks = parseFloat(document.getElementById('vacationWeeks').value) || 5;
            const sickDays = parseFloat(document.getElementById('sickDays').value) || 10;
            const holidays = parseFloat(document.getElementById('holidays').value) || 12;
            const rentMonth = parseFloat(document.getElementById('rentMonth').value) || 0;
            const adminMonth = parseFloat(document.getElementById('adminMonth').value) || 0;
            const marketingYear = parseFloat(document.getElementById('marketingYear').value) || 0;
            const coursesYear = parseFloat(document.getElementById('coursesYear').value) || 0;
            const contingency = parseFloat(document.getElementById('contingency').value) || 10;
            const inflation = parseFloat(document.getElementById('inflation').value) || 5;

            // –ó–∞—Ä–ø–ª–∞—Ç–∞ –∏ –Ω–∞–ª–æ–≥–∏
            const salaryYear = parseFloat(document.getElementById('salaryYear').value) || 600000;
            const employerTax = parseFloat(document.getElementById('employerTax').value) || 14.1;
            const vacationMoney = parseFloat(document.getElementById('vacationMoney').value) || 12;
            const pension = parseFloat(document.getElementById('pension').value) || 5;
            const christmasBonus = parseFloat(document.getElementById('christmasBonus').value) || 0;

            // –°—Ç—Ä–∞—Ö–æ–≤–∞–Ω–∏–µ
            const workInjuryInsurance = parseFloat(document.getElementById('workInjuryInsurance').value) || 0;
            const liabilityInsurance = parseFloat(document.getElementById('liabilityInsurance').value) || 0;
            const businessInsurance = parseFloat(document.getElementById('businessInsurance').value) || 0;
            const healthInsurance = parseFloat(document.getElementById('healthInsurance').value) || 0;

            // –û–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–µ –∏ –ü–û
            const equipmentDepreciation = parseFloat(document.getElementById('equipmentDepreciation').value) || 0;
            const softwareLicenses = parseFloat(document.getElementById('softwareLicenses').value) || 0;
            const cloudServices = parseFloat(document.getElementById('cloudServices').value) || 0;
            const hosting = parseFloat(document.getElementById('hosting').value) || 0;

            // –ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–µ —É—Å–ª—É–≥–∏
            const accountant = parseFloat(document.getElementById('accountant').value) || 0;
            const auditor = parseFloat(document.getElementById('auditor').value) || 0;
            const legal = parseFloat(document.getElementById('legal').value) || 0;
            const bankFees = parseFloat(document.getElementById('bankFees').value) || 0;

            // –û–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ä–∞—Å—Ö–æ–¥—ã
            const transportMonth = parseFloat(document.getElementById('transportMonth').value) || 0;
            const representationMonth = parseFloat(document.getElementById('representationMonth').value) || 0;
            const membershipYear = parseFloat(document.getElementById('membershipYear').value) || 0;
            const badDebt = parseFloat(document.getElementById('badDebt').value) || 2;
            const certifications = parseFloat(document.getElementById('certifications').value) || 0;
            const networking = parseFloat(document.getElementById('networking').value) || 0;

            // –†–∞—Å—á–µ—Ç —Ä–∞–±–æ—á–∏—Ö –¥–Ω–µ–π –∏ —á–∞—Å–æ–≤
            const totalWorkDaysYear = workDaysMonth * 12;
            const vacationDays = vacationWeeks * 5;
            const actualWorkDaysYear = totalWorkDaysYear - vacationDays - sickDays - holidays;
            const actualWorkHoursYear = actualWorkDaysYear * workHoursDay;
            const effectiveHoursYear = actualWorkHoursYear * (utilization / 100);

            // –†–∞—Å—á–µ—Ç —Ä–∞—Å—Ö–æ–¥–æ–≤ –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º
            const categories = [];

            // 1. –ó–∞—Ä–ø–ª–∞—Ç–∞ –∏ –Ω–∞–ª–æ–≥–∏
            const arbeidsgiveravgift = salaryYear * (employerTax / 100);
            const feriepenger = salaryYear * (vacationMoney / 100);
            const pensionCost = salaryYear * (pension / 100);
            const totalSalaryExpenses = salaryYear + arbeidsgiveravgift + feriepenger + pensionCost + christmasBonus;
            
            categories.push({
                name: 'üí∞ –ó–∞—Ä–ø–ª–∞—Ç–∞ –∏ –Ω–∞–ª–æ–≥–∏',
                items: [
                    { name: '–ó–∞—Ä–ø–ª–∞—Ç–∞ –±—Ä—É—Ç—Ç–æ', amount: salaryYear },
                    { name: 'Arbeidsgiveravgift', amount: arbeidsgiveravgift },
                    { name: 'Feriepenger', amount: feriepenger },
                    { name: 'OTP –ø–µ–Ω—Å–∏—è', amount: pensionCost },
                    { name: '–†–æ–∂–¥–µ—Å—Ç–≤–µ–Ω—Å–∫–∏–π –±–æ–Ω—É—Å', amount: christmasBonus }
                ],
                total: totalSalaryExpenses
            });

            // 2. –û—Ñ–∏—Å –∏ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ü–∏—è
            const rentYear = rentMonth * 12;
            const adminYear = adminMonth * 12;
            const officeTotal = rentYear + adminYear;
            
            categories.push({
                name: 'üè¢ –û—Ñ–∏—Å –∏ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ü–∏—è',
                items: [
                    { name: '–ê—Ä–µ–Ω–¥–∞ –æ—Ñ–∏—Å–∞', amount: rentYear },
                    { name: '–ê–¥–º–∏–Ω —Ä–∞—Å—Ö–æ–¥—ã', amount: adminYear }
                ],
                total: officeTotal
            });

            // 3. –°—Ç—Ä–∞—Ö–æ–≤–∞–Ω–∏–µ
            const insuranceTotal = workInjuryInsurance + liabilityInsurance + businessInsurance + healthInsurance;
            
            categories.push({
                name: 'üõ°Ô∏è –°—Ç—Ä–∞—Ö–æ–≤–∞–Ω–∏–µ',
                items: [
                    { name: 'Yrkesskadeforsikring', amount: workInjuryInsurance },
                    { name: 'Ansvarsforsikring', amount: liabilityInsurance },
                    { name: 'Driftsforsikring', amount: businessInsurance },
                    { name: 'Helseforsikring', amount: healthInsurance }
                ],
                total: insuranceTotal
            });

            // 4. –¢–µ—Ö–Ω–∏–∫–∞ –∏ –ü–û
            const techTotal = equipmentDepreciation + softwareLicenses + cloudServices + hosting;
            
            categories.push({
                name: 'üíª –¢–µ—Ö–Ω–∏–∫–∞ –∏ –ü–û',
                items: [
                    { name: '–ê–º–æ—Ä—Ç–∏–∑–∞—Ü–∏—è —Ç–µ—Ö–Ω–∏–∫–∏', amount: equipmentDepreciation },
                    { name: '–õ–∏—Ü–µ–Ω–∑–∏–∏ –ü–û', amount: softwareLicenses },
                    { name: '–û–±–ª–∞—á–Ω—ã–µ —Å–µ—Ä–≤–∏—Å—ã', amount: cloudServices },
                    { name: '–î–æ–º–µ–Ω –∏ —Ö–æ—Å—Ç–∏–Ω–≥', amount: hosting }
                ],
                total: techTotal
            });

            // 5. –ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–µ —É—Å–ª—É–≥–∏
            const servicesTotal = accountant + auditor + legal + bankFees;
            
            categories.push({
                name: 'üìã –ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–µ —É—Å–ª—É–≥–∏',
                items: [
                    { name: 'Regnskapsf√∏rer', amount: accountant },
                    { name: 'Revisor', amount: auditor },
                    { name: '–Æ—Ä–∏–¥–∏—á–µ—Å–∫–∏–µ —É—Å–ª—É–≥–∏', amount: legal },
                    { name: '–ë–∞–Ω–∫–æ–≤—Å–∫–∏–µ –∫–æ–º–∏—Å—Å–∏–∏', amount: bankFees }
                ],
                total: servicesTotal
            });

            // 6. –û–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ä–∞—Å—Ö–æ–¥—ã
            const transportYear = transportMonth * 12;
            const representationYear = representationMonth * 12;
            const operationsTotal = transportYear + representationYear + membershipYear + certifications + networking;
            
            categories.push({
                name: 'üöó –û–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ä–∞—Å—Ö–æ–¥—ã',
                items: [
                    { name: '–¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç', amount: transportYear },
                    { name: '–ü—Ä–µ–¥—Å—Ç–∞–≤–∏—Ç–µ–ª—å—Å–∫–∏–µ', amount: representationYear },
                    { name: '–ß–ª–µ–Ω—Å–∫–∏–µ –≤–∑–Ω–æ—Å—ã', amount: membershipYear },
                    { name: '–°–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏', amount: certifications },
                    { name: 'Networking events', amount: networking }
                ],
                total: operationsTotal
            });

            // 7. –ú–∞—Ä–∫–µ—Ç–∏–Ω–≥ –∏ —Ä–∞–∑–≤–∏—Ç–∏–µ
            const developmentTotal = marketingYear + coursesYear;
            
            categories.push({
                name: 'üìà –ú–∞—Ä–∫–µ—Ç–∏–Ω–≥ –∏ —Ä–∞–∑–≤–∏—Ç–∏–µ',
                items: [
                    { name: '–ú–∞—Ä–∫–µ—Ç–∏–Ω–≥', amount: marketingYear },
                    { name: '–ö—É—Ä—Å—ã –∏ –æ–±—É—á–µ–Ω–∏–µ', amount: coursesYear }
                ],
                total: developmentTotal
            });

            // –ü–æ–¥—Å—á–µ—Ç –±–∞–∑–æ–≤—ã—Ö —Ä–∞—Å—Ö–æ–¥–æ–≤
            const baseExpenses = categories.reduce((sum, cat) => sum + cat.total, 0);
            
            // –î–æ–±–∞–≤–ª—è–µ–º –≤–Ω–µ–ø–ª–∞–Ω–æ–≤—ã–µ —Ä–∞—Å—Ö–æ–¥—ã
            const contingencyAmount = baseExpenses * (contingency / 100);
            
            // –î–æ–±–∞–≤–ª—è–µ–º —Ä–µ–∑–µ—Ä–≤ –Ω–∞ bad debt
            const badDebtAmount = baseExpenses * (badDebt / 100);
            
            // –î–æ–±–∞–≤–ª—è–µ–º –∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∫—É –Ω–∞ –∏–Ω—Ñ–ª—è—Ü–∏—é
            const inflationAmount = baseExpenses * (inflation / 100);
            
            categories.push({
                name: '‚ö†Ô∏è –†–µ–∑–µ—Ä–≤—ã –∏ —Ä–∏—Å–∫–∏',
                items: [
                    { name: '–í–Ω–µ–ø–ª–∞–Ω–æ–≤—ã–µ —Ä–∞—Å—Ö–æ–¥—ã', amount: contingencyAmount },
                    { name: '–†–µ–∑–µ—Ä–≤ –Ω–∞ bad debt', amount: badDebtAmount },
                    { name: '–ö–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∫–∞ –Ω–∞ –∏–Ω—Ñ–ª—è—Ü–∏—é', amount: inflationAmount }
                ],
                total: contingencyAmount + badDebtAmount + inflationAmount
            });

            // –ò—Ç–æ–≥–æ–≤—ã–µ —Ä–∞—Å—Ö–æ–¥—ã
            const totalExpensesYear = baseExpenses + contingencyAmount + badDebtAmount + inflationAmount;

            // –°–µ–±–µ—Å—Ç–æ–∏–º–æ—Å—Ç—å
            const costPerHour = effectiveHoursYear > 0 ? totalExpensesYear / effectiveHoursYear : 0;
            const costPerMonth = totalExpensesYear / 12;
            const recommendedHourRate = costPerHour * 1.3; // +30% –º–∞—Ä–∂–∞
            const minIncomeYear = totalExpensesYear * 1.3;

            // –û–±–Ω–æ–≤–ª—è–µ–º UI
            document.getElementById('hourCost').textContent = formatNumber(costPerHour);
            document.getElementById('recommendedRate').textContent = formatNumber(recommendedHourRate);
            document.getElementById('monthCost').textContent = formatNumber(costPerMonth);
            document.getElementById('yearCost').textContent = formatNumber(totalExpensesYear);
            
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –≤–ª–∏—è–Ω–∏–µ –∏–Ω—Ñ–ª—è—Ü–∏–∏
            if (inflation > 0) {
                const inflationImpact = ((inflationAmount / effectiveHoursYear) || 0);
                document.getElementById('inflationNote').textContent = `+${formatNumber(inflationImpact)} NOK/—á–∞—Å –æ—Ç –∏–Ω—Ñ–ª—è—Ü–∏–∏`;
            } else {
                document.getElementById('inflationNote').textContent = '';
            }

            document.getElementById('workDaysYear').textContent = Math.round(actualWorkDaysYear);
            document.getElementById('workHoursYear').textContent = Math.round(actualWorkHoursYear);
            document.getElementById('effectiveHours').textContent = Math.round(effectiveHoursYear);
            document.getElementById('minIncome').textContent = formatNumber(minIncomeYear) + ' NOK';
            
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –≤–ª–∏—è–Ω–∏–µ –∏–Ω—Ñ–ª—è—Ü–∏–∏ –Ω–∞ –±—É–¥—É—â–∏–µ —Å—Ç–∞–≤–∫–∏
            const nextYearRate = recommendedHourRate * (1 + inflation/100);
            const inflationGrowthAmount = recommendedHourRate * (inflation/100);
            document.getElementById('nextYearRate').textContent = formatNumber(nextYearRate) + ' NOK/—á–∞—Å';
            document.getElementById('inflationGrowth').textContent = '+' + formatNumber(inflationGrowthAmount) + ' NOK/—á–∞—Å';

            document.getElementById('totalExpenses').textContent = formatNumber(totalExpensesYear) + ' NOK';

            // –°–æ–∑–¥–∞–µ–º –¥–µ—Ç–∞–ª—å–Ω—ã–π breakdown
            const breakdownContainer = document.getElementById('breakdownContainer');
            breakdownContainer.innerHTML = '';

            categories.forEach(category => {
                if (category.total === 0) return;

                const categoryDiv = document.createElement('div');
                categoryDiv.className = 'category-breakdown';

                const categoryPercentage = (category.total / totalExpensesYear * 100).toFixed(1);
                
                categoryDiv.innerHTML = `
                    <div class="category-title">
                        <span>${category.name}</span>
                        <span class="category-total">${formatNumber(category.total)} NOK (${categoryPercentage}%)</span>
                    </div>
                `;

                category.items.forEach(item => {
                    if (item.amount === 0) return;

                    const itemPercentage = (item.amount / totalExpensesYear * 100).toFixed(1);
                    const itemHourCost = effectiveHoursYear > 0 ? item.amount / effectiveHoursYear : 0;
                    const itemMonthCost = item.amount / 12;

                    const itemDiv = document.createElement('div');
                    itemDiv.className = 'breakdown-item';
                    itemDiv.innerHTML = `
                        <div class="label">
                            <span>${item.name}</span>
                        </div>
                        <div class="values">
                            <div class="amount">${formatNumber(item.amount)} NOK</div>
                            <div class="percentage">${itemPercentage}% –æ—Ç –æ–±—â–∏—Ö</div>
                            <div class="detail">${formatNumber(itemHourCost)} NOK/—á–∞—Å | ${formatNumber(itemMonthCost)} NOK/–º–µ—Å</div>
                        </div>
                    `;
                    categoryDiv.appendChild(itemDiv);

                    // –î–æ–±–∞–≤–ª—è–µ–º –ø—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä
                    const progressBar = document.createElement('div');
                    progressBar.className = 'progress-bar';
                    progressBar.innerHTML = `<div class="progress-fill" style="width: ${itemPercentage}%"></div>`;
                    itemDiv.appendChild(progressBar);
                });

                breakdownContainer.appendChild(categoryDiv);
            });

            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
            document.getElementById('results').classList.add('active');
            document.getElementById('results').scrollIntoView({ behavior: 'smooth' });
        }

        // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–µ—Ä–µ—Å—á–µ—Ç –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏
        document.querySelectorAll('input').forEach(input => {
            input.addEventListener('input', () => {
                const results = document.getElementById('results');
                if (results.classList.contains('active')) {
                    calculate();
                }
            });
        });
    </script>
</body>
</html>